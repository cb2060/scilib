<!DOCTYPE html>
<html>
  <head>
    <title></title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>

    <style type="text/css">
      @import url(https://fonts.googleapis.com/css?family=Droid+Serif);
      @import url(https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz);
      @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);

      body {
        font-family: 'Droid Serif';
      }
      h1, h2, h3 {
        font-family: 'Yanone Kaffeesatz';
        font-weight: 400;
        margin-bottom: 0;
      }
      .remark-slide-content h1 { font-size: 3em; }
      .remark-slide-content h2 { font-size: 2em; }
      .remark-slide-content h3 { font-size: 1.6em; }
      .footnote {
        position: absolute;
        bottom: 3em;
      }
      li p { line-height: 1.25em; }
      .red { color: #fa0000; }
      .large { font-size: 2em; }
      a, a > code {
        color: rgb(249, 38, 114);
        text-decoration: none;
      }
      code {
        -moz-border-radius: 5px;
        -web-border-radius: 5px;
        background: #e7e8e2;
        border-radius: 5px;
      }
      .remark-code, .remark-inline-code { font-family: 'Ubuntu Mono'; }
      .remark-code-line-highlighted     { background-color: #373832; }
      .pull-left {
        float: left;
        width: 47%;
      }
      .pull-right {
        float: right;
        width: 47%;
      }
      .pull-right ~ p {
        clear: both;
      }
      #slideshow .slide .content code {
        font-size: 0.8em;
      }
      #slideshow .slide .content pre code {
        font-size: 0.9em;
        padding: 15px;
      }
      .inverse {
        background: #272822;
        color: #777872;
        text-shadow: 0 0 20px #333;
      }
      .inverse h1, .inverse h2 {
        color: #f3f3f3;
        line-height: 0.8em;
      }

      /* Slide-specific styling */
      #slide-inverse .footnote {
        bottom: 12px;
        left: 20px;
      }
      #slide-how .slides {
        font-size: 0.9em;
        position: absolute;
        top:  151px;
        right: 140px;
      }
      #slide-how .slides h3 {
        margin-top: 0.2em;
      }
      #slide-how .slides .first, #slide-how .slides .second {
        padding: 1px 20px;
        height: 90px;
        width: 120px;
        -moz-box-shadow: 0 0 10px #777;
        -webkit-box-shadow: 0 0 10px #777;
        box-shadow: 0 0 10px #777;
      }
      #slide-how .slides .first {
        background: #fff;
        position: absolute;
        top: 20%;
        left: 20%;
        z-index: 1;
      }
      #slide-how .slides .second {
        position: relative;
        background: #fff;
        z-index: 0;
      }

      /* Two-column layout */
      .left-column {
        color: #777;
        width: 20%;
        height: 92%;
        float: left;
      }
        .left-column h2:last-of-type, .left-column h3:last-child {
          color: #000;
        }
      .right-column {
        width: 75%;
        float: right;
        padding-top: 1em;
      }
    </style>
    <script type="text/javascript"
      src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>

  </head>
  <body>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
    <script src="/scilib/refreeze/js/springy.js"></script>
    <script src="/scilib/refreeze/js/springyui.js"></script>
    <script>
        
    </script>
    <textarea id="source">
name: inverse
layout: true
class: center, middle, inverse

---

&lt;script type=&#34;text/javascript&#34;
  src=&#34;https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML&#34;&gt;
&lt;/script&gt;
# Scientific libraries

## 

CB2060 Applied programming for life sciences
KTH

---

layout: false

# TOC
* [Scientific libraries](#1)
  + [What can you do with Python libraries](#3)
  + [What is a library?](#4)
  + [Builtins](#5)
  + [Standard library](#6)
  + [External Python libraries](#7)
  + [Are you a math genius?](#8)
  + [More linear algebra](#27)
  + [Refernces](#29)
  + [Matplotlib](#30)
  + [First example](#31)
  + [The `pandas` module](#35)

---

## What can you do with Python libraries

*The 2018 Nobel Prize in economics was awarded to a Python convert*
&lt;img height=200 src=&#34;https://cms.qz.com/wp-content/uploads/2018/10/Paul-Romer-Jupyter.jpg?quality=75&amp;strip=all&amp;w=1600&amp;h=901&#34;&gt;


https://qz.com/1417145/economics-nobel-laureate-paul-romer-is-a-python-programming-convert/


*Instead of using Mathematica, Romer discovered that he could use a Jupyter
notebook for sharing his research. &lt;mark&gt;Jupyter notebooks&lt;/mark&gt; are web
applications that allow programmers and researchers to share documents that
include code, charts, equations, and data. Jupyter notebooks allow for code
written in dozens of programming languages. For his research, Romer used
&lt;mark&gt;Python—the most popular language for data science and statistics.&lt;/mark&gt;*

---
## What can you do with Python libraries


*Take a picture of a black hole*

&lt;img height=200 src=&#34;https://static.projects.iq.harvard.edu/files/styles/os_files_xlarge/public/eht/files/20190410-78m-800x466.png?m=1554877319&amp;itok=fLnjP-iS&#34;&gt;


https://doi.org/10.3847/2041-8213/ab0e85



*Software: DiFX (Deller et al. 2011), CALC, PolConvert (Martí-Vidal et al.  2016), HOPS (Whitney et al. 2004), CASA (McMullin et al. 2007), AIPS (Greisen 2003), ParselTongue (Kettenis et al. 2006), GNU Parallel (Tange 2011), GILDAS, eht-imaging (Chael et al. 2016, 2018), &lt;mark&gt;Numpy&lt;/mark&gt; (van der Walt et al.  2011), &lt;mark&gt;Scipy&lt;/mark&gt; (Jones et al. 2001), &lt;mark&gt;Pandas&lt;/mark&gt; (McKinney 2010), Astropy (The Astropy Collaboration et al. 2013, 2018), &lt;mark&gt;Jupyter&lt;/mark&gt; (Kluyver et al. 2016), &lt;mark&gt;Matplotlib&lt;/mark&gt; (Hunter 2007).*


---

## What is a library?

* A Python source file
* A directory with source files
* The Standard library
    - builtins
    - imported
* External libraries (requires install)

---

## Builtins

The builtins module contain the most common functions, types that are
immediately available


&lt;!--
&gt;&gt;&gt; import builtins

--&gt;

~~~
&gt;&gt;&gt; dir(builtins)[-73:]
[&#39;abs&#39;, &#39;all&#39;, &#39;any&#39;, &#39;ascii&#39;, &#39;bin&#39;, &#39;bool&#39;, &#39;breakpoint&#39;, &#39;bytearray&#39;,
&#39;bytes&#39;, &#39;callable&#39;, &#39;chr&#39;, &#39;classmethod&#39;, &#39;compile&#39;, &#39;complex&#39;, &#39;copyright&#39;,
&#39;credits&#39;, &#39;delattr&#39;, &#39;dict&#39;, &#39;dir&#39;, &#39;divmod&#39;, &#39;enumerate&#39;, &#39;eval&#39;, &#39;exec&#39;,
&#39;exit&#39;, &#39;filter&#39;, &#39;float&#39;, &#39;format&#39;, &#39;frozenset&#39;, &#39;getattr&#39;, &#39;globals&#39;,
&#39;hasattr&#39;, &#39;hash&#39;, &#39;help&#39;, &#39;hex&#39;, &#39;id&#39;, &#39;input&#39;, &#39;int&#39;, &#39;isinstance&#39;,
&#39;issubclass&#39;, &#39;iter&#39;, &#39;len&#39;, &#39;license&#39;, &#39;list&#39;, &#39;locals&#39;, &#39;map&#39;, &#39;max&#39;,
&#39;memoryview&#39;, &#39;min&#39;, &#39;next&#39;, &#39;object&#39;, &#39;oct&#39;, &#39;open&#39;, &#39;ord&#39;, &#39;pow&#39;, &#39;print&#39;,
&#39;property&#39;, &#39;quit&#39;, &#39;range&#39;, &#39;repr&#39;, &#39;reversed&#39;, &#39;round&#39;, &#39;set&#39;, &#39;setattr&#39;,
&#39;slice&#39;, &#39;sorted&#39;, &#39;staticmethod&#39;, &#39;str&#39;, &#39;sum&#39;, &#39;super&#39;, &#39;tuple&#39;, &#39;type&#39;,
&#39;vars&#39;, &#39;zip&#39;]

~~~
https://docs.python.org/3/library/functions.html
~~~
&gt;&gt;&gt; abs(-1)
1
&gt;&gt;&gt; all([True, False])
False
&gt;&gt;&gt; any([True, False])
True

...
~~~

---

## Standard library

Included in all distributions. Those not in the `builtins` module require an
`import` statement for access

~~~
&gt;&gt;&gt; import math
&gt;&gt;&gt; math.pi
3.141592653589793

~~~

https://docs.python.org/3/library/

&lt;img height=&#34;200&#34; src=&#34;https://m.media-amazon.com/images/I/517+o9DVBqL._AC_UL436_.jpg&#34;&gt;
&lt;img height=&#34;200&#34; src=&#34;https://m.media-amazon.com/images/I/718xn9vrebL._AC_UL436_.jpg&#34;&gt;
&lt;img height=&#34;200&#34; src=&#34;https://m.media-amazon.com/images/I/513mJHxeseL._AC_UL436_.jpg&#34;&gt;
---

## External Python libraries

- NumPy: &#39;Numerical python&#39;, linear algebra, https://www.numpy.org/
- Pandas: High-level library for tabular data, https://pandas.pydata.org/
- Matplotlib: fundamental plotting module, https://matplotlib.org/


&lt;!--
If ModuleNotFoundError, install first

import sys
!conda install --yes --prefix {sys.prefix} numpy (or pandas or matplotlib)

import pandas (or numpy or matplotlib.pyplot) as pd (or np or plt)

--&gt;


---

## Are you a math genius?

&lt;img height=300 src=&#34;mathgenius.jpg&#34; &gt;

* First three rows a linear system of equations
* Identify the coefficient matrix and right-hand side
* Last line represents an expression of the solutions

$$
\begin{pmatrix}
3 &amp;0 &amp;0 \\\
1 &amp;8 &amp;0 \\\
0 &amp;4 &amp;-2
\end{pmatrix}
\begin{pmatrix}
a\\\ b \\\ c
\end{pmatrix}
=
\begin{pmatrix}
30\\\ 18 \\\ 2
\end{pmatrix}
$$
$$
a + 3b + c = ?
$$


---

### Linear Algebra in Python: NumPy

* Libraries provided by ``numpy`` provide computational speeds close to compiled languages
* Generally written in C
* From a user perspective they are imported as any python module
* http://www.numpy.org

---

### Creating arrays

* one- and two-dimensional

```
&gt;&gt;&gt; import numpy
&gt;&gt;&gt; a = numpy.zeros(3)
&gt;&gt;&gt; print(type(a), a)
&lt;class &#39;numpy.ndarray&#39;&gt; [0. 0. 0.]
&gt;&gt;&gt; b = numpy.zeros((3, 3))
&gt;&gt;&gt; print(b)
[[0. 0. 0.]
 [0. 0. 0.]
 [0. 0. 0.]]

```

---

### Copying arrays

```
    &gt;&gt;&gt; x = numpy.zeros(2)
    &gt;&gt;&gt; y = x
    &gt;&gt;&gt; x[0] = 1; print(x, y)
    [1. 0.] [1. 0.]

```
    
Note that assignment (like lists) here is by reference

```
    &gt;&gt;&gt; print(x is y)
    True

```

Numpy array copy method

```
    &gt;&gt;&gt; y = x.copy()
    &gt;&gt;&gt; print(x is y)
    False

```

---

### Filling arrays

``linspace`` returns an array with sequence data

```
    &gt;&gt;&gt; print(numpy.linspace(0,1,6))
    [0.  0.2  0.4  0.6  0.8  1. ]

```

``arange`` is a similar function
::
    &gt;&gt;&gt; print(numpy.arange(0, 1, 0.2))
    [0.   0.2  0.4  0.6  0.8]

---

### Arrays from list objects

```
    &gt;&gt;&gt; la=[1.,2.,3.]
    &gt;&gt;&gt; a=numpy.array(la)
    &gt;&gt;&gt; print(a)
    [1.  2.  3.]

```
```
    &gt;&gt;&gt; lb=[4., 5., 6.]
    &gt;&gt;&gt; ab=numpy.array([la,lb])
    &gt;&gt;&gt; print(ab)
    [[1.  2.  3.]
     [4.  5.  6.]]

```

---

### Arrays from file data:

* Using `numpy.loadtxt`


```
    #a.dat
    1 2 3
    4 5 6
```

&lt;!--
&gt;&gt;&gt; with open(&#39;a.dat&#39;, &#39;w&#39;) as adat:
...     n = adat.write(&#39;1 2 3\n4 5 6\n&#39;)

--&gt;

```
    &gt;&gt;&gt; a = numpy.loadtxt(&#39;a.dat&#39;)
    &gt;&gt;&gt; print(a)
    [[1.  2.  3.]
     [4.  5.  6.]]

```
If you have a text file with only numerical data
arranged as a matrix: all rows have the same number of elements

---

### Reshaping

by changing the shape attribute

```
&gt;&gt;&gt; print(ab.shape)
(2, 3)
&gt;&gt;&gt; ab.shape = (6,)
&gt;&gt;&gt; print(ab)
[1. 2. 3. 4. 5. 6.]

```

with the reshape method

```
    &gt;&gt;&gt; ba = ab.reshape((3, 2))
    &gt;&gt;&gt; print(ba)
    [[1. 2.]
     [3. 4.]
     [5. 6.]]

```
---

### Views of same data

* ab and ba are different objects but represent different views  of the same data

```
&gt;&gt;&gt; ab[0] = 0
&gt;&gt;&gt; print(ab)
[0.  2.  3.  4.  5.  6.]
&gt;&gt;&gt; print(ba)
[[0. 2.]
 [3. 4.]
 [5. 6.]]

```
---

### Array indexing

like lists

* ``a[2:4]`` is an array slice with elements ``a[2]`` and ``a[3]``
* ``a[n:m]`` has size ``m-n``
* ``a[-1]`` is the last element of ``a``
* ``a[:]`` are all elements of ``a``

---

### Looping over elements

```
&gt;&gt;&gt; for row in ba:
...    for element in row:
...        print(f&#34;{element:10.3f}&#34;, end=&#34;&#34;)
...    print()
     0.000     2.000
     3.000     4.000
     5.000     6.000

```

### Flattening an array

* The `ravel` method returns a one-dim array

```
&gt;&gt;&gt; for e in ba.ravel():
...    print(e)
0.0
2.0
3.0
4.0
5.0
6.0

```
    
---

* ``ndenumerate`` returns indices as well

```
    &gt;&gt;&gt; for ind, val in numpy.ndenumerate(ba):
    ...    print(ind, val )
    (0, 0) 0.0
    (0, 1) 2.0
    (1, 0) 3.0
    (1, 1) 4.0
    (2, 0) 5.0
    (2, 1) 6.0

```

---


### Matrix operations

* explicit looping

```
&gt;&gt;&gt; import numpy, time
&gt;&gt;&gt; n=256
&gt;&gt;&gt; a=numpy.ones((n,n))
&gt;&gt;&gt; b=numpy.ones((n,n))
&gt;&gt;&gt; c=numpy.zeros((n,n))
&gt;&gt;&gt; t1=time.time()
&gt;&gt;&gt; for i in range(n):  
...    for j in range(n):
...        for k in range(n):
...            c[i,j]+=a[i,k]*b[k,j]
&gt;&gt;&gt; t2=time.time()
&gt;&gt;&gt; print(&#34;Loop timing&#34;,t2-t1 ) 
Loop timing ...

```

---

* using `numpy.dot`

```
&gt;&gt;&gt; import numpy, time
&gt;&gt;&gt; n=256
&gt;&gt;&gt; a=numpy.ones((n,n))
&gt;&gt;&gt; b=numpy.ones((n,n))
&gt;&gt;&gt; t1=time.time()
&gt;&gt;&gt; c=numpy.dot(a,b)
&gt;&gt;&gt; t2=time.time()
&gt;&gt;&gt; print(&#34;dot timing&#34;,t2-t1) 
dot timing...

```

---

### Conclusion

* Provided that numpy has been install properly (difficult) and linked with optimized libraries, basic linear algebra work as fast in python as in Fortran (or C/C++)

---

### More vector operations

* Scalar multiplication ``a*2`` 
* Scalar addition ``a + 2``
* Power (elementwise) ``a**2``

Note that for objects of ``ndarray`` type, multiplication means elementwise multplication and not matrix multiplication

---

### Vectorized elementary functions

```
&gt;&gt;&gt; v = numpy.arange(0, 1, .2)
&gt;&gt;&gt; print(v)
[0.   0.2  0.4  0.6  0.8]

```
--
```
&gt;&gt;&gt; print(numpy.cos(v))
[1.          0.98006658  0.92106099  0.82533561  0.69670671]

```
--
```
&gt;&gt;&gt; print(numpy.sqrt(v))
[0.          0.4472136   0.63245553  0.77459667  0.89442719]

```
--
```
&gt;&gt;&gt; print(numpy.log(v))
[       -inf -1.60943791 -0.91629073 -0.51082562 -0.22314355]

# ./linalg.py:98: RuntimeWarning: divide by zero encountered in log
```

---

## More linear algebra

* Solve a linear  system of equations
$$Ax = b$$

--


```
    x = numpy.linalg.solve(A, b)

```

--

* Determinant of a matrix

$$det(A)$$

--


```
    x = numpy.linalg.det(A)

```

---


* Inverse of a matrix 
$$A^{-1}$$

--

```
    x = numpy.linalg.inverse(A)

```

--

*  Eigenvalues  of a matrix

$$Ax = x\lambda$$

--

```
    x, l = numpy.linalg.eig(A)

```

---

## Refernces

* http://www.numpy.org
* http://www.scipy-lectures.org/intro/numpy/index.html
* Videos: https://pyvideo.org/search.html?q=numpy

---


## Matplotlib

- The standard 2D-plotting library in Python
- Production-quality graphs
- Interactive and non-interactive use
- Many output formats
- Flexible and customizable

---

## First example

### The absolute minimum  you need to know

* You have a set of points (x,y) on file

&lt;!--
&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; x = np.linspace(-np.pi, np.pi, 100)
&gt;&gt;&gt; y = np.sin(x)
&gt;&gt;&gt; np.savetxt(&#39;data.txt&#39;, np.array(list(zip(x, y))))

--&gt;

```
$ head data.txt
-3.141592653589793116e+00 -1.224646799147353207e-16
-3.078126135335453650e+00 -6.342391965656483943e-02
-3.014659617081114629e+00 -1.265924535737493750e-01
-2.951193098826775163e+00 -1.892512443604104921e-01
-2.887726580572436141e+00 -2.511479871810792797e-01
-2.824260062318096676e+00 -3.120334456984873439e-01
-2.760793544063757654e+00 -3.716624556603275731e-01
-2.697327025809418188e+00 -4.297949120891718100e-01
-2.633860507555079167e+00 -4.861967361004687072e-01
-2.570393989300739701e+00 -5.406408174555977775e-01
...

```
--

* How do you get to  this

&lt;!---
---&gt;

&lt;img src=&#34;img/sin.png&#34; height=&#34;250&#34; /&gt;

---

### Next

* Import the plotting library
```
import matplotlib.pyplot as plt
import numpy as np
```
--

* Load the data from file
```
data = np.loadtxt(&#39;filename&#39;)
```
--

* Call the `plot` function
```
plt.plot(data[:, 0], data[:, 1])
```
--

* Show the result
```
plt.show()
```

*Note:* in Jupyter notebook you may want to do
```
%matplotlib inline
```
---

### Next? 

#### Refinement

* Change color, linestyle, linewidth
--


* Change window size (ylim)
--


* Change xticks
--


* Set title
--


* Multi-line plots
--


* Legends

---

### In practice

How do you do when need a particlar type of figure?

* Go to the matplotlib gallery: http://matplotlib.org/gallery
* Try some exercises at http://scipy-lectures.github.io/intro/matplotlib/matplotlib.html#other-types-of-plots-examples-and-exercises
* See also: https://realpython.com/python-matplotlib-guide/


---

## The `pandas` module

Setup:

```
&gt;&gt;&gt; import pandas as pd
&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; import matplotlib.pyplot as plt

```

Two main data structures

* Series
* Data frames
---

### Series

One-dimensional labeled data

```
&gt;&gt;&gt; s = pd.Series([0.1, 0.2, 0.3, 0.4])
&gt;&gt;&gt; print(s)
0    0.1
1    0.2
2    0.3
3    0.4
dtype: float64

```
--
```
&gt;&gt;&gt; print(s.index)
RangeIndex(start=0, stop=4, step=1)

```
--
```
&gt;&gt;&gt; print(s.values)
[0.1 0.2 0.3 0.4]

```

---

* indices can be labels (like a dict with order)

```
&gt;&gt;&gt; s = pd.Series(np.arange(4), index=[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;])
&gt;&gt;&gt; print(s)
a    0
b    1
c    2
d    3
dtype: int64
&gt;&gt;&gt; print(s[&#39;d&#39;])
3

```
--
* Initialize with dict

```
&gt;&gt;&gt; s = pd.Series({&#39;a&#39;: 1, &#39;b&#39;: 2, &#39;c&#39;: 3, &#39;d&#39;: 4})
&gt;&gt;&gt; print(s)
a    1
b    2
c    3
d    4
dtype: int64

```
--
* Indexing as a dict

```
&gt;&gt;&gt; print(s[&#39;a&#39;])
1

```
---

* Elementwise operations
```
&gt;&gt;&gt; print(s * 100)
a    100
b    200
c    300
d    400
dtype: int64

```
--

* Slicing
```
&gt;&gt;&gt; s[&#39;b&#39;: &#39;c&#39;]
b    2
c    3
dtype: int64

```

---

* List indexing
```
&gt;&gt;&gt; print(s[[&#39;b&#39;, &#39;c&#39;]])
b    2
c    3
dtype: int64

```
--

* Bool indexing
```
&gt;&gt;&gt; print(s[s&gt;2])
c    3
d    4
dtype: int64

```
--

* Other operations
```
&gt;&gt;&gt; s.mean()
2.5

```
---

* Alignment on indices
```
&gt;&gt;&gt; s[&#39;a&#39;:&#39;b&#39;] + s[&#39;b&#39;:&#39;c&#39;]
a   NaN
b   4.0
c   NaN
dtype: float64

```
---

### DataFrames

* Tabular data structure (like spreadsheet, sql table)
* Multiple series with common index

```
&gt;&gt;&gt; data = {&#39;country&#39;: [&#39;Belgium&#39;, &#39;France&#39;, &#39;Germany&#39;, &#39;Netherlands&#39;, &#39;United Kingdom&#39;],
...        &#39;population&#39;: [11.3, 64.3, 81.3, 16.9, 64.9],
...        &#39;area&#39;: [30510, 671308, 357050, 41526, 244820],
...        &#39;capital&#39;: [&#39;Brussels&#39;, &#39;Paris&#39;, &#39;Berlin&#39;, &#39;Amsterdam&#39;, &#39;London&#39;]}

```
--
```
&gt;&gt;&gt; countries = pd.DataFrame(data)
&gt;&gt;&gt; countries
              country  population    area    capital
    0         Belgium        11.3   30510   Brussels
    1          France        64.3  671308      Paris
    2         Germany        81.3  357050     Berlin
    3     Netherlands        16.9   41526  Amsterdam
    4  United Kingdom        64.9  244820     London

```

---

* Attributes: index, columns, dtypes, values

```
&gt;&gt;&gt; countries.index
RangeIndex(start=0, stop=5, step=1)

```
--
```
&gt;&gt;&gt; countries.columns
Index([&#39;country&#39;, &#39;population&#39;, &#39;area&#39;, &#39;capital&#39;], dtype=&#39;object&#39;)

```
--
```
&gt;&gt;&gt; countries.dtypes
    country        object
    population    float64
    area            int64
    capital        object
    dtype: object

```
--
```
&gt;&gt;&gt; countries.values
    array([[&#39;Belgium&#39;, 11.3, 30510, &#39;Brussels&#39;],
           [&#39;France&#39;, 64.3, 671308, &#39;Paris&#39;],
           [&#39;Germany&#39;, 81.3, 357050, &#39;Berlin&#39;],
           [&#39;Netherlands&#39;, 16.9, 41526, &#39;Amsterdam&#39;],
           [&#39;United Kingdom&#39;, 64.9, 244820, &#39;London&#39;]], dtype=object)

```
---
* Concise summary of a dataframe: `info`

```
&gt;&gt;&gt; countries.info()
&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 5 entries, 0 to 4
Data columns (total 4 columns):
 #   Column      Non-Null Count  Dtype  
---  ------      --------------  -----  
 0   country     5 non-null      object 
 1   population  5 non-null      float64
 2   area        5 non-null      int64  
 3   capital     5 non-null      object 
dtypes: float64(1), int64(1), object(2)
memory usage: 288.0+ bytes

```
---

* Set a column as index

~~~
&gt;&gt;&gt; countries
          country  population    area    capital
0         Belgium        11.3   30510   Brussels
1          France        64.3  671308      Paris
2         Germany        81.3  357050     Berlin
3     Netherlands        16.9   41526  Amsterdam
4  United Kingdom        64.9  244820     London

~~~
--

```
&gt;&gt;&gt; countries = countries.set_index(&#39;country&#39;)

```
--
```
&gt;&gt;&gt; countries
                    population    area    capital
country                                      
Belgium               11.3   30510   Brussels
France                64.3  671308      Paris
Germany               81.3  357050     Berlin
Netherlands           16.9   41526  Amsterdam
United Kingdom        64.9  244820     London

```

---

* Access a single series in a table

```
&gt;&gt;&gt; countries[&#39;area&#39;]
country
Belgium            30510
France            671308
Germany           357050
Netherlands        41526
United Kingdom    244820
Name: area, dtype: int64

```
--
```
&gt;&gt;&gt; countries[&#39;capital&#39;][&#39;France&#39;]
&#39;Paris&#39;

```
--

* Arithmetic (population density)

```
&gt;&gt;&gt; countries[&#39;population&#39;]/countries[&#39;area&#39;]*10**6
country
Belgium           370.370370
France             95.783158
Germany           227.699202
Netherlands       406.973944
United Kingdom    265.092721
dtype: float64

```

---

* Add new column

```
&gt;&gt;&gt; countries[&#39;density&#39;] =  countries[&#39;population&#39;]/countries[&#39;area&#39;]*10**6
&gt;&gt;&gt; countries
                    population    area    capital     density
country                                                  
Belgium               11.3   30510   Brussels  370.370370
France                64.3  671308      Paris   95.783158
Germany               81.3  357050     Berlin  227.699202
Netherlands           16.9   41526  Amsterdam  406.973944
United Kingdom        64.9  244820     London  265.092721

```

--

* Filter data

```
&gt;&gt;&gt; countries[countries[&#39;density&#39;] &gt; 300]
             population   area    capital     density
country                                              
Belgium            11.3  30510   Brussels  370.370370
Netherlands        16.9  41526  Amsterdam  406.973944

```
---

* Sort data

~~~
&gt;&gt;&gt; countries.sort_values(&#39;density&#39;, ascending=False)
                population    area    capital     density
country                                                  
Netherlands           16.9   41526  Amsterdam  406.973944
Belgium               11.3   30510   Brussels  370.370370
United Kingdom        64.9  244820     London  265.092721
Germany               81.3  357050     Berlin  227.699202
France                64.3  671308      Paris   95.783158

~~~

--

* Statistics

~~~
&gt;&gt;&gt; countries.describe()
       population           area     density
count    5.000000       5.000000    5.000000
mean    47.740000  269042.800000  273.183879
std     31.519645  264012.827994  123.440607
min     11.300000   30510.000000   95.783158
25%     16.900000   41526.000000  227.699202
50%     64.300000  244820.000000  265.092721
75%     64.900000  357050.000000  370.370370
max     81.300000  671308.000000  406.973944

~~~
---

* Plotting

&lt;!--
&gt;&gt;&gt; import matplotlib.pyplot as plt
&gt;&gt;&gt; fig, ax = plt.subplots()
&gt;&gt;&gt; countries.plot(ax=ax)
&lt;AxesSubplot:xlabel=&#39;country&#39;&gt;
&gt;&gt;&gt; fig.savefig(&#39;figure_1.png&#39;)

--&gt;

```
&gt;&gt;&gt; countries.plot() 

```
&lt;img src=&#34;figure_1.png&#34; height=&#34;300&#34;/&gt;
---
* Plotting barchart

&lt;!--
&gt;&gt;&gt; fig, ax = plt.subplots()
&gt;&gt;&gt; countries.plot(kind=&#39;bar&#39;, ax=ax)
&lt;AxesSubplot:xlabel=&#39;country&#39;&gt;
&gt;&gt;&gt; fig.savefig(&#39;figure_2.png&#39;)

--&gt;

```
&gt;&gt;&gt; countries.plot(kind=&#39;bar&#39;) 

```
&lt;img src=&#34;figure_2.png&#34; height=&#34;300&#34;/&gt;
---

### Features

* like numpy arrays with labels
* supported import/export formats: CSV, SQL, Excel...
* support for missing data
* support for heterogeneous data
* merging data
* reshaping data
* easy plotting 

    </textarea>

    <script src="/scilib/refreeze/js/remark-latest.min.js" type="text/javascript"></script>
    <script type="text/javascript">
      var hljs = remark.highlighter.engine;
    </script>
    <script src="/scilib/refreeze/js/high.js" type="text/javascript"></script>
    <script type="text/javascript">
      var slideshow = remark.create({
          highlightStyle: 'sunburst',
          highlightLanguage: 'remark'
        }) ;
    </script>
  </body>
</html>
